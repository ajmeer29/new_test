!function(t,i,e){var n,s=i.event;s.special.smartresize={setup:function(){i(this).bind("resize",s.special.smartresize.handler)},teardown:function(){i(this).unbind("resize",s.special.smartresize.handler)},handler:function(t,i){var e=this,s=arguments;t.type="smartresize",n&&clearTimeout(n),n=setTimeout(function(){jQuery.event.handle.apply(e,s)},"execAsap"===i?0:100)}},i.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},i.Accordion=function(t,e){this.$el=i(e),this.$items=this.$el.children("ul").children("li"),this.itemsCount=this.$items.length,this._init(t)},i.Accordion.defaults={open:-1,oneOpenedItem:!1,speed:300,easing:"easeInOutExpo",scrollSpeed:900,scrollEasing:"easeInOutExpo"},i.Accordion.prototype={_init:function(t){this.options=i.extend(!0,{},i.Accordion.defaults,t),this._validate(),this.current=this.options.open,this.$items.find("div.st-content").hide(),this._saveDimValues(),-1!=this.current&&this._toggleItem(this.$items.eq(this.current)),this._initEvents()},_saveDimValues:function(){this.$items.each(function(){var t=i(this);t.data({originalHeight:t.find("a:first").height(),offsetTop:t.offset().top})})},_validate:function(){(this.options.open<-1||this.options.open>this.itemsCount-1)&&(this.options.open=-1)},_initEvents:function(){var e=this;this.$items.find("a:first").bind("click.accordion",function(t){var n=i(this).parent();return e.options.oneOpenedItem&&e._isOpened()&&e.current!==n.index()&&e._toggleItem(e.$items.eq(e.current)),e._toggleItem(n),!1}),i(t).bind("smartresize.accordion",function(t){e._saveDimValues(),e.$el.find("li.st-open").each(function(){var t=i(this);t.css("height",t.data("originalHeight")+t.find("div.st-content").outerHeight(!0))}),e._isOpened()&&e._scroll()})},_isOpened:function(){return this.$el.find("li.st-open").length>0},_toggleItem:function(t){var i=t.find("div.st-content");t.hasClass("st-open")?(this.current=-1,i.stop(!0,!0).fadeOut(this.options.speed),t.removeClass("st-open").stop().animate({height:t.data("originalHeight")},this.options.speed,this.options.easing)):(this.current=t.index(),i.stop(!0,!0).fadeIn(this.options.speed),t.addClass("st-open").stop().animate({height:t.data("originalHeight")+i.outerHeight(!0)},this.options.speed,this.options.easing),this._scroll(this))},_scroll:function(t){-1!==(t=t||this).current?t.current:t.$el.find("li.st-open:last").index()}};var o=function(t){this.console&&console.error(t)};i.fn.accordion=function(t){if("string"==typeof t){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var n=i.data(this,"accordion");n?i.isFunction(n[t])&&"_"!==t.charAt(0)?n[t].apply(n,e):o("no such method '"+t+"' for accordion instance"):o("cannot call methods on accordion prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){i.data(this,"accordion")||i.data(this,"accordion",new i.Accordion(t,this))});return this}}(window,jQuery);